<div class="container">
    <div class="row">
        <div class="col-3">

        </div>
        <div class="col-6">
            <h2>{{title}}</h2>
            <div class="loading-spinner" *ngIf="isLoading">
                <mat-spinner diameter="50" strokeWidth="5" color="accent"></mat-spinner>
            </div>
            <form [formGroup] = "formGroup" (submit)="recordActor($event)">
                <mat-form-field appearance="fill" id="fieldName" >
                    <mat-label>{{labels.nameLabel}}</mat-label>
                    <input matInput placeholder="Entrez un nom" formControlName="nom" required >
                    <mat-error *ngIf="formGroup.get('nom')?.hasError('required')">{{labels.requiredName}}</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill" id="fieldName" >
                    <mat-label>{{labels.firstNameLabel}}</mat-label>
                    <input matInput placeholder="Entrez un prénom" formControlName="prenom" required >
                    <mat-error *ngIf="formGroup.get('prenom')?.hasError('required')">{{labels.requiredFirstName}}</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>{{ labels.chooseCategories }}</mat-label>
                    <mat-select formControlName="categories" multiple>
                        <mat-option *ngFor="let cat of uniqueCategories" [value]="cat">{{ cat.libelle }}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="formGroup.get('categories')?.hasError('required')">{{labels.requiredCategory}}</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>{{ labels.chooseProfile }}</mat-label>
                    <mat-select formControlName="profil">
                        <mat-option *ngFor="let pfl of uniqueProfiles" [value]="pfl">{{ pfl.libelle }}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="formGroup.get('profil')?.hasError('required')">{{labels.requiredProfile}}</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill" id="fieldName" >
                    <mat-label>{{labels.status}}</mat-label>
                    <input matInput placeholder="Entrez un statut" formControlName="fonction" required >
                    <mat-error *ngIf="formGroup.get('fonction')?.hasError('required')">{{labels.requiredStatus}}</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill" id="fieldName" >
                    <mat-label>{{labels.telephone}}</mat-label>
                    <input matInput placeholder="Entrez un numéro de téléphone" formControlName="telephone"  >
                    <mat-error *ngIf="formGroup.get('telephone')?.hasError('pattern')">{{labels.telephoneFormat}}</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill" id="fieldName" >
                    <mat-label>{{labels.mail}}</mat-label>
                    <input matInput placeholder="Entrez un mail" formControlName="mail" >
                    <mat-error *ngIf="formGroup.get('mail')?.hasError('pattern')">{{labels.invalidFormat}}</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill" id="fieldName" >
                    <mat-label>{{labels.structure}}</mat-label>
                    <input matInput placeholder="Entrez une structure" formControlName="structure" required >
                    <mat-error *ngIf="formGroup.get('structure')?.hasError('required')">{{labels.requiredStructure}}</mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <input type="text"
                        matInput
                        formControlName="commune"
                        [matAutocomplete]="auto"
                        placeholder="Nom de la commune">
                
                    <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
                    <mat-option *ngFor="let town of filteredTowns" [value]="town">
                        {{ town.nom_com }}
                    </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
                <button mat-raised-button color="accent"  (click)="navigate(pageDiagnostic,diagnostic)" >{{labels.btnPreviousStepLabel}}</button>
                <button mat-raised-button id="btnNewSite"  type="submit"  color="warn" >{{labels.btnRecordLabel}}</button>
            </form>

        </div>
        <div class="col-3">

        </div>
    </div>
</div>
