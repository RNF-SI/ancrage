<div *ngFor="let themeEntry of chartDataByThemeSorted" class="mb-5">
  
  <div *ngIf="themeEntry.theme != 'AFOM'">
    <h2 class="text-center">{{ themeEntry.theme }}</h2>
    <ng-container *ngIf="themeEntry">

      <ng-container *ngFor="let chart of radarCharts">
        <div *ngIf="chart.theme === themeEntry.theme">
          <canvas class="graph-radar-{{chart.theme}}" baseChart
                  [data]="chart.data"
                  [type]="'radar'"
                  [options]="radarChartOptions">
          </canvas>
          <button mat-raised-button (click)="exportChart('graph-radar-'+chart.theme, chart.theme)">
            {{ labels.exportPNG }}
          </button>
        </div>
      </ng-container>
    </ng-container>

    <div *ngFor="let chart of themeEntry.charts" class="mb-4" [attr.id]="'question-' + chart.id_question">
      <h3 class="text-center">{{ chart.question }}</h3>
      <div class="row">
        <div class="col-md-6 d-flex flex-column align-items-center justify-content-center">
          <canvas class="graph{{chart.id_question}}" baseChart
                  [data]="chart.chart"
                  [options]="chart.chartOptions"
                  chartType="bar">
          </canvas>
          <button mat-raised-button (click)="exportChart('graph'+chart.id_question, chart.question + '-score')">
            {{ labels.exportPNG }}
          </button>
        </div>

        <div class="col-md-6 d-flex flex-column align-items-center justify-content-center">
          <h4 class="text-center">Répartition des réponses</h4>
          <canvas class="graph-rep{{chart.id_question}}" baseChart
                  [data]="chartDataRepartition[chart.question]"
                  [type]="'pie'">
          </canvas>
          <button mat-raised-button (click)="exportChart('graph-rep'+chart.id_question, chart.question + '-repartition')">
            {{ labels.exportPNG }}
          </button>
        </div>
      </div>
    </div>
  </div>
  
</div>
<div class="charts-container">
  <h2>AFOM</h2>
  <div *ngFor="let chart of groupedCharts" class="chart-wrapper">
    <canvas baseChart
      [data]="chart.chartData.data"
      [type]="chart.chartData.type"
      [options]="chart.chartData.options">
    </canvas>
  </div>
</div>
